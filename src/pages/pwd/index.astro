---
import Default from '../../templates/Default.astro';
---

<Default>
   <script is:inline src="/js/pwd.js"></script>
   <div class="container mt-3">
      <div class="row">
         <!-- open row for all content above footer -->
         <section id="main" class="col order-2">
            <!-- open section for content right of graphic -->

            <section id="content" class="row">
               <!-- open row for content below nav -->

               <h3>
                  Generate Password(s)
                  <form id="generatePasswords" style="display: inline-block">
                     <!-- open input area for gen pw -->
                     <input
                        type="hidden"
                        name="selectAmount"
                        value="4"
                        id="selectAmount"
                     />
                     <button
                        id="generate"
                        type="submit"
                        class="btn btn-primary"
                        aria-label="generate passwords"
                        tabindex="0">Generate</button
                     >
                  </form>
                  <!-- close input area for gen pw -->
               </h3>

               <!-- this section (id = password-card) is handled by the PasswordController and the PasswordView -->
               <section id="password-card" class="">
                  <div class="card mt-3 mt-lg-5 col">
                     <!-- open password card with stats -->
                     <div class="card-header d-flex align-items-center">
                        <span class="text-uppercase">Passwords</span>
                     </div>
                     <div class="card-body">
                        <div id="password_presentation">
                           <input
                              id="pw_lst"
                              type="radio"
                              name="pwdPresentation"
                              value="lst"
                              aria-description="Present passwords in a list"
                              tabindex="0"
                              checked
                           />
                           <label
                              for="pw_lst"
                              class="bi bi-list-ul"
                              style="margin-left:0.5em;margin-right:1em"
                           ></label>
                           <input
                              id="pw_txt"
                              type="radio"
                              name="pwdPresentation"
                              value="txt"
                              aria-description="Present passwords as a block of text"
                              tabindex="0"
                           />
                           <label
                              for="pw_txt"
                              class="bi bi-file-earmark-text"
                              style="margin-left:0.5em;margin-right:1em"
                           ></label>
                        </div>
                        <div
                           id="generated_password_lst"
                           class="list-group list-group-flush"
                        >
                        </div>

                        <label
                           for="generated_password_txt"
                           class="visually-hidden">Bulk password text</label
                        >
                        <textarea
                           type="text"
                           readonly
                           class="form-control form-control-plaintext border-0 font-monospace mb-3 password-textbox"
                           rows="3"
                           id="generated_password_txt"></textarea>

                        <div id="passwordErrorContainer"></div>
                     </div>
                     <div class="card-footer">
                        <div id="password_stats_container" class="pt-1 fs-6">
                           <h6><i class="bi bi-graph-up"></i> Statistics</h6>
                           <p class="fw-lighter lh-1">
                              <span class="fw-bolder">Strength </span><span
                                 class="btn btn-stats btn-success"
                                 id="password_strength">test</span
                              >
                           </p>
                           <p class="fw-light">
                              <span class="fw-bolder">Entropy</span>&nbsp;<span
                                 id="entropy_blind"
                              >
                              </span> blind & <span
                                 class="btn btn-stats btn-warning"
                                 id="entropy_seen">seen</span
                              >&nbsp;with full knowledge
                              <br />
                              <span class="fst-italic" id="entropy_suggestion"
                              ></span>
                           </p>
                        </div>
                     </div>
                  </div><!-- close password card with stats -->
               </section>

               <!-- this section (id = generatePassword) is handled by the PasswordController and the PasswordView -->
               <div id="generatePassword" class="mt-2">
                  <!-- open generate pw - need to split pw box out -->
               </div>
               <!-- close generate pw -->
            </section>
            <!-- close section for content below nav -->
         </section>
         <!-- close section for content right of graphic -->
      </div>
      <!-- close opening row -->
      <div class="row">
         <!-- open row for password card -->

         <div
            class="accordion mt-3 mb-3 mb-lg-3 col-11 col-md mx-auto"
            id="passwordConfig"
         >
            <!-- open config col -->
            <div class="accordion-item">
               <h2 class="accordion-header">
                  <button
                     class="accordion-button"
                     type="button"
                     data-bs-toggle="collapse"
                     data-bs-target="#collapseConfig"
                     aria-expanded="true"
                     aria-controls="collapseConfig"
                  >
                     Config
                  </button>
               </h2>
               <div
                  id="collapseConfig"
                  class="accordion-collapse collapse"
                  data-bs-parent="#passwordConfig"
               >
                  <div class="accordion-body">
                     <div class="accordion" id="configOptions">
                        <div class="accordion-item">
                           <h2 class="accordion-header">
                              <button
                                 class="accordion-button"
                                 type="button"
                                 data-bs-toggle="collapse"
                                 data-bs-target="#collapsePresets"
                                 aria-expanded="true"
                                 aria-controls="collapsePresets"
                              >
                                 <span>Presets</span>&nbsp;<span
                                    class="fst-italic"
                                    id="currentPreset"></span>
                              </button>
                           </h2>
                           <!-- This section (id = collapsePresets) is handled by the PresetController and the PresetView -->
                           <div
                              id="collapsePresets"
                              class="accordion-collapse collapse show"
                              data-bs-parent="#configOptions"
                           >
                              <div class="accordion-body">
                                 <div
                                    id="preset-btn-group"
                                    class="row"
                                    role="group"
                                    aria-label="Preset group"
                                 >
                                 </div>
                                 <div
                                    id="presetDescription"
                                    class="row mt-2 p-1 border border-primary-subtle bg-primary-subtle rounded-2"
                                 >
                                 </div>
                              </div>
                           </div>
                        </div>
                        <!-- <div class="accordion-item">
                          <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDict" aria-expanded="false" aria-controls="collapseDict">
                              Dictionaries
                            </button>
                          </h2>
                          <div id="collapseDict" class="accordion-collapse collapse" data-bs-parent="#configOptions">
                            <div class="accordion-body">
                              <strong>TO BE DONE</strong>
                               This part contains the selection of the available dictionaries.
                            </div>
                          </div>
                        </div> -->
                        <div class="accordion-item">
                           <h2 class="accordion-header">
                              <button
                                 class="accordion-button collapsed"
                                 type="button"
                                 data-bs-toggle="collapse"
                                 data-bs-target="#collapseSettings"
                                 aria-expanded="false"
                                 aria-controls="collapseSettings"
                              >
                                 Settings
                              </button>
                           </h2>
                           <!-- This section (id = collapseSettings) is handled by the SettingsController and the SettingsView -->
                           <div
                              id="collapseSettings"
                              class="accordion-collapse collapse"
                              data-bs-parent="#configOptions"
                           >
                              <div class="accordion-body">
                                 <div
                                    id="invalidSettings"
                                    class="alert alert-danger alert-dismissible"
                                    role="alert"
                                 >
                                 </div>
                                 <form
                                    id="passwordSettings"
                                    class="needs-validation container-fluid"
                                    novalidate
                                 >
                                    <!-- word settings -->
                                    <div
                                       id="section_words"
                                       class="row g-1 mb-3"
                                    >
                                       <h5>Words</h5>
                                       <div
                                          class="mt-2 col-sm-12 col-md-8 col-lg-3"
                                       >
                                          <div class="input-group">
                                             <label
                                                for="dict"
                                                class="input-group-text"
                                                >Dictionary</label
                                             >
                                             <select
                                                name="dict"
                                                id="dict"
                                                class="form-select"
                                             >
                                                <option
                                                   value="english"
                                                   selected="selected"
                                                   >English</option
                                                >
                                             </select>
                                          </div>
                                       </div>
                                       <div
                                          class="mt-2 col-sm-12 col-md-4 col-lg-3"
                                       >
                                          <div class="input-group">
                                             <label
                                                for="num_words"
                                                class="input-group-text"
                                                ># of Words</label
                                             >
                                             <input
                                                type="number"
                                                min="1"
                                                max="10"
                                                step="1"
                                                value="1"
                                                class="form-control rounded-end"
                                                name="num_words"
                                                id="num_words"
                                                required
                                             />
                                             <div class="invalid-feedback">
                                                Enter a number between 1 and 10
                                             </div>
                                          </div>
                                       </div>
                                       <div
                                          class="mt-2 col-sm-12 col-md-6 col-lg-3"
                                       >
                                          <div class="input-group">
                                             <label
                                                for="word_length_min"
                                                class="input-group-text col-form-label"
                                                >Min Length</label
                                             >
                                             <input
                                                type="number"
                                                min="4"
                                                max="12"
                                                step="1"
                                                value="4"
                                                class="form-control rounded-end"
                                                name="word_length_min"
                                                id="word_length_min"
                                                required
                                                aria-describedby="word_length_min_error"
                                             />
                                             <div
                                                id="word_length_min_error"
                                                class="invalid-feedback"
                                             >
                                                Enter a number between 4 and 12
                                             </div>
                                          </div>
                                       </div>
                                       <div
                                          class="mt-2 col-sm-12 col-md-6 col-lg-3"
                                       >
                                          <div class="input-group">
                                             <label
                                                for="word_length_max"
                                                class="input-group-text col-form-label"
                                                >Max Length</label
                                             >
                                             <input
                                                type="number"
                                                min="4"
                                                max="12"
                                                step="1"
                                                value="4"
                                                class="form-control rounded-end"
                                                name="word_length_max"
                                                id="word_length_max"
                                                required
                                                aria-describedby="word_length_max_error"
                                             />
                                             <div
                                                id="word_length_max_error"
                                                class="invalid-feedback"
                                             >
                                                Enter a number between 4 and 12
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <!-- section_words -->
                                    <!-- Word Transformations -->
                                    <div
                                       id="section_transformations"
                                       class="row mb-3"
                                    >
                                       <h5>Transformations</h5>
                                       <div class="input-group mt-2">
                                          <label
                                             for="case_transform"
                                             class="input-group-text"
                                             >Case Transformation</label
                                          >
                                          <select
                                             name="case_transform"
                                             id="case_transform"
                                             class="form-select"
                                          >
                                             <option
                                                value="NONE"
                                                selected="selected"
                                                >-none-</option
                                             >
                                             <option value="ALTERNATE"
                                                >alternating WORD case</option
                                             >
                                             <option value="CAPITALISE"
                                                >Capitalise First Letter</option
                                             >
                                             <option value="INVERT"
                                                >cAPITALISE eVERY lETTER eXCEPT
                                                tHe fIRST</option
                                             >
                                             <option value="LOWER"
                                                >lower case</option
                                             >
                                             <option value="UPPER"
                                                >UPPER CASE</option
                                             >
                                             <option value="RANDOM"
                                                >EVERY word randomly CAPITALISED
                                                or NOT</option
                                             >
                                          </select>
                                       </div>
                                    </div>
                                    <!-- /section_transformations -->

                                    <!-- Separator -->
                                    <div
                                       id="section_separator"
                                       class="row g-1 mb-3"
                                    >
                                       <h5>Separator</h5>
                                       <div class="mt-2 col-sm-12 col-md-6">
                                          <div class="input-group">
                                             <label
                                                for="separator_type"
                                                class="input-group-text"
                                                >Type</label
                                             >
                                             <select
                                                name="separator_type"
                                                id="separator_type"
                                                class="form-control"
                                             >
                                                <option
                                                   value="NONE"
                                                   selected="selected"
                                                   >-none-</option
                                                >
                                                <option value="FIXED"
                                                   >Specified Character</option
                                                >
                                                <option value="RANDOM"
                                                   >Random Character</option
                                                >
                                             </select>
                                          </div>
                                       </div>
                                       <div class="col-sm-12 col-md-6 mt-2">
                                          <div class="input-group">
                                             <!-- specific character -->
                                             <label
                                                for="separator_character"
                                                class="input-group-text"
                                                >Character</label
                                             >
                                             <input
                                                name="separator_character"
                                                id="separator_character"
                                                class="form-control rounded-end"
                                                type="text"
                                                size="1"
                                                minlength="1"
                                                maxlength="1"
                                                value="-"
                                             />
                                             <div class="invalid-feedback">
                                                Enter exactly 1 character
                                             </div>
                                          </div>
                                          <div class="input-group">
                                             <!-- random characters -->
                                             <label
                                                for="separator_alphabet"
                                                class="input-group-text rounded-start"
                                                >Alphabet</label
                                             >
                                             <input
                                                name="separator_alphabet"
                                                id="separator_alphabet"
                                                class="form-control rounded-end"
                                                type="text"
                                                size="6"
                                                minlength="2"
                                                maxlength="20"
                                                value=""
                                             />
                                             <div class="invalid-feedback">
                                                Enter at least 2 characters and
                                                no more than 20
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <!-- /section_separator -->

                                    <!-- Digit Padding -->
                                    <div
                                       id="section_padding"
                                       class="row g-1 mb-3"
                                    >
                                       <h5>Padding</h5>
                                       <div class="mt-2 col-sm-12 col-md-6">
                                          <div class="input-group">
                                             <!-- padding digits before -->
                                             <label
                                                for="padding_digits_before"
                                                class="input-group-text"
                                                >Digit(s) Before</label
                                             >
                                             <input
                                                type="number"
                                                min="0"
                                                max="5"
                                                step="1"
                                                value="2"
                                                class="form-control rounded-end"
                                                name="padding_digits_before"
                                                id="padding_digits_before"
                                                required
                                             />
                                             <div class="invalid-feedback">
                                                Enter a number between 0 and 5
                                             </div>
                                          </div>
                                       </div>
                                       <!-- /padding_digits_before -->
                                       <div class="mt-2 col-sm-12 col-md-6">
                                          <div class="input-group">
                                             <!-- padding digits after -->
                                             <label
                                                for="padding_digits_after"
                                                class="input-group-text"
                                                >Digit(s) After</label
                                             >
                                             <input
                                                type="number"
                                                min="0"
                                                max="5"
                                                step="1"
                                                value="2"
                                                class="form-control rounded-end"
                                                name="padding_digits_after"
                                                id="padding_digits_after"
                                                required
                                             />
                                             <div class="invalid-feedback">
                                                Enter a number between 0 and 5
                                             </div>
                                          </div>
                                       </div>
                                       <!-- /padding_digits_after -->

                                       <!-- Symbol Padding -->
                                       <div class="mt-2 col-sm-12 col-md-4">
                                          <div class="input-group">
                                             <label
                                                for="padding_type"
                                                class="input-group-text"
                                                >Type</label
                                             >
                                             <select
                                                name="padding_type"
                                                id="padding_type"
                                                class="form-select"
                                             >
                                                <option
                                                   value="NONE"
                                                   selected="selected"
                                                   >-none-</option
                                                >
                                                <option value="FIXED"
                                                   >Fixed</option
                                                >
                                                <option value="ADAPTIVE"
                                                   >Adaptive</option
                                                >
                                             </select>
                                          </div>
                                       </div>
                                       <!-- /padding_type -->

                                       <div class="mt-2 col-sm-12 col-md-4">
                                          <div class="input-group">
                                             <!-- padding characters before -->
                                             <label
                                                for="padding_characters_before"
                                                class="input-group-text"
                                                >Symbol(s) Before</label
                                             >
                                             <input
                                                type="number"
                                                min="0"
                                                max="5"
                                                step="1"
                                                value="0"
                                                class="form-control rounded-end"
                                                name="padding_characters_before"
                                                id="padding_characters_before"
                                                required
                                             />
                                             <div class="invalid-feedback">
                                                Enter a number between 0 and 5
                                             </div>
                                          </div>
                                       </div>
                                       <!-- /padding_characters_before -->

                                       <div class="mt-2 col-sm-12 col-md-4">
                                          <div class="input-group">
                                             <!-- padding characters after -->
                                             <label
                                                for="padding_characters_after"
                                                class="input-group-text"
                                                >Symbol(s) After</label
                                             >
                                             <input
                                                type="number"
                                                min="0"
                                                max="5"
                                                step="1"
                                                value="0"
                                                class="form-control rounded-end"
                                                name="padding_characters_after"
                                                id="padding_characters_after"
                                                required
                                             />
                                             <div class="invalid-feedback">
                                                Enter a number between 0 and 5
                                             </div>
                                          </div>
                                       </div>
                                       <!-- /padding_characters_after -->

                                       <div class="mt-2 col-sm-12 col-md-8">
                                          <div class="input-group">
                                             <!-- pad to length -->
                                             <label
                                                for="pad_to_length"
                                                class="input-group-text"
                                                >Pad to Length</label
                                             >
                                             <input
                                                type="number"
                                                size="3"
                                                name="pad_to_length"
                                                id="pad_to_length"
                                                value="8"
                                                min="8"
                                                max="999"
                                                step="1"
                                                class="form-control rounded-end"
                                                required
                                             />
                                             <div class="invalid-feedback">
                                                Enter a number between 8 and 999
                                             </div>
                                          </div>
                                       </div>
                                       <!-- /pad_to_length -->

                                       <!-- character type -->
                                       <div id="padding_char_container">
                                          <div class="mt-2">
                                             <div class="input-group">
                                                <label
                                                   for="padding_character_type"
                                                   class="input-group-text"
                                                   >Padding Type</label
                                                >
                                                <select
                                                   name="padding_character_type"
                                                   id="padding_character_type"
                                                   class="form-select"
                                                >
                                                   <option value="SEPARATOR"
                                                      >Use Separator Character</option
                                                   >
                                                   <option
                                                      value="FIXED"
                                                      selected="selected"
                                                      >Specified Character</option
                                                   >
                                                   <option value="RANDOM"
                                                      >Random Character</option
                                                   >
                                                </select>
                                             </div>
                                          </div>
                                          <!-- /padding_character_type -->

                                          <!-- padding character -->
                                          <div class="mt-2">
                                             <div class="input-group">
                                                <label
                                                   for="padding_character"
                                                   class="input-group-text"
                                                   >Padding Character</label
                                                >
                                                <input
                                                   class="form-control rounded-end"
                                                   type="text"
                                                   size="1"
                                                   maxlength="1"
                                                   value="*"
                                                   name="padding_character"
                                                   id="padding_character"
                                                />
                                                <div class="invalid-feedback">
                                                   Enter exactly 1 character
                                                </div>
                                             </div>
                                          </div>
                                          <!-- /padding_character -->

                                          <!-- padding character alphabet -->
                                          <div class="mt-2">
                                             <div class="input-group">
                                                <label
                                                   for="padding_alphabet"
                                                   class="input-group-text"
                                                   >Padding Character Alphabet</label
                                                >
                                                <input
                                                   name="padding_alphabet"
                                                   id="padding_alphabet"
                                                   class="form-control rounded-end"
                                                   type="text"
                                                   size="6"
                                                   minlength="2"
                                                   maxlength="20"
                                                   value=""
                                                />
                                                <div class="invalid-feedback">
                                                   Enter at least 2 characters
                                                   and max 20
                                                </div>
                                             </div>
                                          </div>
                                          <!-- /padding_alphabet -->
                                       </div>
                                       <!-- /padding_char_container -->
                                    </div>
                                    <!-- /section_padding -->
                                 </form>
                              </div>
                              <!-- /accordion-body -->
                           </div>
                           <!-- /collapseSettings -->
                        </div>
                        <!-- /accordion-item for settings -->
                     </div>
                     <!-- /accordion configOptions -->
                  </div>
                  <!-- /accordion body -->
               </div>
               <!-- /collapseConfig -->
            </div>
         </div>
         <!-- close config col -->
      </div>
   </div>
</Default>
